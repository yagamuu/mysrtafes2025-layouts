import{c as n,D as c,E as R,G as F,H as m}from"./replicants-BvAoZZEV.js";const y=u=>{const d=u%60,a=Math.floor(u/60)%60,r=Math.floor(u/3600),o=l=>l.toString().padStart(2,"0");return`${r}:${o(a)}:${o(d)}`};function M(){const u=n(()=>{var t,e,s;return(t=c)!=null&&t.data?(s=(e=c)==null?void 0:e.data)==null?void 0:s.teams.flatMap(v=>v.players):[]}),d=n(()=>{var e,s;return(s=(e=R)==null?void 0:e.data)==null?void 0:s.findIndex(v=>{var x,T;return v.id===((T=(x=F)==null?void 0:x.data)==null?void 0:T.current)})}),a=n(()=>{var e,s;const t=d.value||0;return(s=(e=R)==null?void 0:e.data)==null?void 0:s.slice(t,t+3)}),r=n(()=>{var t;return(t=a==null?void 0:a.value)==null?void 0:t[0]}),o=n(()=>{var t;return(t=a.value)==null?void 0:t.slice(1)}),l=n(()=>{if(!a.value||!a.value[1])return[];const t=[],e=(a.value[0].estimateS||0)+(a.value[1].setupTimeS||0);if(t.push(e),!a.value[2])return t;const s=e+(a.value[1].estimateS||0)+(a.value[2].setupTimeS||0);return t.push(s),t}),f=n(()=>{var t,e;return((e=(t=c)==null?void 0:t.data)==null?void 0:e.game)??""}),S=n(()=>{var t,e;return((e=(t=c)==null?void 0:t.data)==null?void 0:e.category)??""}),h=n(()=>{var t,e;return((e=(t=c)==null?void 0:t.data)==null?void 0:e.system)??""}),p=n(()=>{var t,e;return((e=(t=c)==null?void 0:t.data)==null?void 0:e.release)??""}),C=n(()=>{var e,s;const t=((s=(e=c)==null?void 0:e.data)==null?void 0:s.estimateS)??0;return y(t)}),D=n(()=>{var t,e;return((e=(t=c)==null?void 0:t.data)==null?void 0:e.estimateS)??0});return{runDataActiveRun:c,players:u,upcomingRuns:a,upnextRun:r,ondeckRuns:o,upcomingStartIn:l,runTitle:f,runCategory:S,runSystem:h,runRelease:p,estimate:C,estimateS:D}}const{runDataActiveRun:i}=M();function k(){const u=n(()=>{var r;if(!((r=m)!=null&&r.data))return 0;const{milliseconds:a}=m.data;return y(Math.trunc(a/1e3))}),d=n(()=>{var a,r,o,l,f,S;if(!((a=m)!=null&&a.data))return"stopped";if((r=i==null?void 0:i.data)!=null&&r.teams&&((l=(o=i==null?void 0:i.data)==null?void 0:o.teams)==null?void 0:l.length)===1){const h=i==null?void 0:i.data.teams[0].id,p=(S=(f=m)==null?void 0:f.data)==null?void 0:S.teamFinishTimes[h];if(p&&p.state==="forfeit")return"forfeit"}return m.data.state});return{timer:m,time:u,runState:d}}const{runDataActiveRun:g,estimateS:z}=M(),{timer:I}=k();function E(){const u=n(()=>{var a;return((a=g==null?void 0:g.data)==null?void 0:a.customData.isChallenge)==="挑戦枠"}),d=n(()=>{var o;const a=((o=I==null?void 0:I.data)==null?void 0:o.milliseconds)??0,r=z.value-Math.floor(a/1e3);return y(r>0?r:0)});return{isChallenge:u,challengeTime:d}}export{k as a,E as b,y as f,M as u};
